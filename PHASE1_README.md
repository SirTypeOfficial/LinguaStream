# LinguaStream - فاز اول پیاده‌سازی

## 🎯 هدف فاز اول

این فاز شامل پیاده‌سازی اولیه سیستم تشخیص گفتار فارسی با رابط کاربری Streamlit است که امکان ضبط صدا و نمایش متن تشخیص داده شده را فراهم می‌کند.

## ✨ ویژگی‌های فاز اول

- ✅ **رابط کاربری Streamlit**: رابط کاربری زیبا و کاربرپسند
- ✅ **ضبط صوتی لحظه‌ای**: امکان ضبط صدا از میکروفون
- ✅ **تشخیص گفتار فارسی**: تبدیل صوتی گفتار فارسی به متن
- ✅ **نمایش متن تشخیص داده شده**: نمایش متن در رابط کاربری
- ✅ **دانلود خودکار مدل‌ها**: دانلود مدل Whisper به صورت خودکار
- ✅ **مدیریت خطا**: مدیریت خطاها و نمایش پیام‌های مناسب

## 🚀 راه‌اندازی سریع

### 1. نصب وابستگی‌ها

```bash
pip install -r requirements.txt
```

### 2. راه‌اندازی سیستم

```bash
python setup.py
```

### 3. اجرای رابط کاربری

```bash
streamlit run app.py
```

### 4. استفاده از سیستم

1. روی دکمه "🚀 راه‌اندازی سیستم" کلیک کنید
2. منتظر بمانید تا مدل‌ها دانلود شوند
3. روی دکمه "🎤 شروع ضبط" کلیک کنید
4. شروع به صحبت کردن کنید
5. روی دکمه "⏹️ توقف ضبط" کلیک کنید
6. روی دکمه "🔄 پردازش صوتی" کلیک کنید
7. متن تشخیص داده شده را مشاهده کنید

## 📁 ساختار فایل‌ها

```
LinguaStream/
├── app.py                 # رابط کاربری Streamlit
├── main.py               # برنامه اصلی (نسخه کنسولی)
├── setup.py              # راه‌اندازی سیستم و دانلود مدل‌ها
├── config.py             # تنظیمات پیکربندی
├── requirements.txt      # وابستگی‌های Python
├── src/
│   ├── audio_handler.py  # مدیریت ورودی/خروجی صوتی
│   ├── stt_engine.py     # موتور تشخیص گفتار (Whisper)
│   ├── translator.py     # موتور ترجمه (Helsinki-NLP)
│   └── tts_engine.py     # موتور سنتز گفتار (نسخه ساده)
├── models/               # پوشه ذخیره مدل‌ها
└── temp/                # پوشه فایل‌های موقت
```

## ⚙️ تنظیمات مهم

### تنظیمات صوتی
- **نرخ نمونه**: 16000 Hz (بهینه برای Whisper)
- **اندازه Chunk**: 1024 نمونه
- **کانال‌ها**: مونو (1 کانال)

### تنظیمات مدل
- **مدل Whisper**: base (تعادل بین دقت و سرعت)
- **مدل ترجمه**: Helsinki-NLP/opus-mt-fa-en
- **مدل TTS**: نسخه ساده (برای فاز اول)

## 🔧 عیب‌یابی

### مشکلات رایج

**خطای PyAudio**
```bash
# در Windows
pip install pipwin
pipwin install pyaudio

# در Linux/Mac
sudo apt-get install portaudio19-dev python3-pyaudio
```

**خطای دانلود مدل**
- اطمینان حاصل کنید که اتصال اینترنت موجود است
- فضای کافی روی دیسک داشته باشید (حداقل 2GB)

**خطای میکروفون**
- اطمینان حاصل کنید که میکروفون به سیستم متصل است
- دسترسی میکروفون را در تنظیمات سیستم بررسی کنید

## 📊 عملکرد مورد انتظار

- **تأخیر تشخیص گفتار**: 1-3 ثانیه
- **دقت تشخیص فارسی**: >85%
- **استفاده از حافظه**: ~1-2GB
- **استفاده از CPU**: متوسط

## 🔮 فاز‌های بعدی

### فاز 2
- پیاده‌سازی کامل TTS با XTTS-v2
- کلون صدا از نمونه کاربر
- ترجمه همزمان کامل

### فاز 3
- بهینه‌سازی عملکرد
- پشتیبانی چندزبانه
- رابط کاربری پیشرفته

## 📞 پشتیبانی

در صورت بروز مشکل:
1. فایل لاگ را بررسی کنید
2. تنظیمات سیستم را چک کنید
3. وابستگی‌ها را مجدداً نصب کنید

---

**نکته**: این فاز اول پیاده‌سازی است و قابلیت‌های کامل سیستم در فاز‌های بعدی اضافه خواهند شد.
